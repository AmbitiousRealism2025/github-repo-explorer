<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="Content-Security-Policy" 
        content="default-src 'self'; 
                 script-src 'self'; 
                 style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; 
                 font-src 'self' https://fonts.gstatic.com; 
                 img-src 'self' data: https://avatars.githubusercontent.com; 
                 connect-src https://api.github.com;">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Explore GitHub repositories - search, discover trending projects, and save your favorites">
  <title>GitHub Explorer - Search Repositories</title>
  <link rel="stylesheet" href="/src/css/main.css">
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  <div class="app">
    <header class="header">
      <div class="container header__inner">
        <a href="/" class="header__logo">
          <svg class="header__logo-icon" viewBox="0 0 16 16" fill="currentColor">
            <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8Z"/>
          </svg>
          GitHub Explorer
        </a>
        <nav class="header__nav">
          <a href="/" class="header__nav-link active">Search</a>
          <a href="/trending.html" class="header__nav-link">Trending</a>
          <a href="/favorites.html" class="header__nav-link">Favorites</a>
          <a href="/collections.html" class="header__nav-link">Collections</a>
          <a href="/compare.html" class="header__nav-link">Compare</a>
        </nav>
        <div class="header__actions">
          <button class="btn btn--ghost btn--icon" id="settings-btn" aria-label="Settings">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>
          </button>
          <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
            <span class="theme-toggle__sun">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="4"/><path d="M12 2v2M12 20v2M4.93 4.93l1.41 1.41M17.66 17.66l1.41 1.41M2 12h2M20 12h2M6.34 17.66l-1.41 1.41M19.07 4.93l-1.41 1.41"/></svg>
            </span>
            <span class="theme-toggle__moon">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
            </span>
          </button>
        </div>
      </div>
    </header>

    <main class="main" id="main-content">
      <div class="container">
        <section class="search-section">
          <div class="search-box">
            <input 
              type="search" 
              class="input input--search input--lg" 
              id="search-input"
              placeholder="Search repositories..."
              autofocus
            >
            <button class="btn btn--primary btn--lg" id="search-btn">Search</button>
          </div>
          
          <div class="filters-bar">
            <div class="filter-group">
              <label class="filter-label" for="language-filter">Language</label>
              <select class="input select" id="language-filter">
                <option value="">All Languages</option>
                <option value="javascript">JavaScript</option>
                <option value="typescript">TypeScript</option>
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="go">Go</option>
                <option value="rust">Rust</option>
                <option value="ruby">Ruby</option>
                <option value="php">PHP</option>
                <option value="c++">C++</option>
                <option value="c#">C#</option>
                <option value="swift">Swift</option>
                <option value="kotlin">Kotlin</option>
              </select>
            </div>
            
            <div class="filter-group">
              <label class="filter-label" for="stars-filter">Min Stars</label>
              <select class="input select" id="stars-filter">
                <option value="0">Any</option>
                <option value="10">10+</option>
                <option value="100">100+</option>
                <option value="1000">1,000+</option>
                <option value="10000">10,000+</option>
                <option value="50000">50,000+</option>
              </select>
            </div>
            
            <div class="filter-group">
              <label class="filter-label" for="sort-filter">Sort By</label>
              <select class="input select" id="sort-filter">
                <option value="stars">Stars</option>
                <option value="forks">Forks</option>
                <option value="updated">Recently Updated</option>
              </select>
            </div>
          </div>
        </section>

        <section id="results-section" class="hidden">
          <div class="results-info">
            <p class="results-count" id="results-count" aria-live="polite"></p>
          </div>
          <div class="repo-grid" id="repo-grid"></div>
          <div class="pagination" id="pagination"></div>
        </section>

        <section id="empty-state" class="empty-state">
          <svg class="empty-state__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"/>
            <path d="m21 21-4.3-4.3"/>
          </svg>
          <h2 class="empty-state__title">Search GitHub Repositories</h2>
          <p class="empty-state__description">Enter a keyword to find repositories, or browse trending projects.</p>
        </section>

        <section id="loading-state" class="hidden">
          <div class="repo-grid">
            <div class="repo-card"><div class="skeleton skeleton--title"></div><div class="skeleton skeleton--text"></div><div class="skeleton skeleton--text" style="width: 80%"></div></div>
            <div class="repo-card"><div class="skeleton skeleton--title"></div><div class="skeleton skeleton--text"></div><div class="skeleton skeleton--text" style="width: 80%"></div></div>
            <div class="repo-card"><div class="skeleton skeleton--title"></div><div class="skeleton skeleton--text"></div><div class="skeleton skeleton--text" style="width: 80%"></div></div>
            <div class="repo-card"><div class="skeleton skeleton--title"></div><div class="skeleton skeleton--text"></div><div class="skeleton skeleton--text" style="width: 80%"></div></div>
            <div class="repo-card"><div class="skeleton skeleton--title"></div><div class="skeleton skeleton--text"></div><div class="skeleton skeleton--text" style="width: 80%"></div></div>
            <div class="repo-card"><div class="skeleton skeleton--title"></div><div class="skeleton skeleton--text"></div><div class="skeleton skeleton--text" style="width: 80%"></div></div>
          </div>
        </section>

        <section id="error-state" class="empty-state hidden">
          <svg class="empty-state__icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
            <circle cx="12" cy="12" r="10"/>
            <path d="M12 8v4M12 16h.01"/>
          </svg>
          <h2 class="empty-state__title">Something went wrong</h2>
          <p class="empty-state__description" id="error-message">Please try again later.</p>
          <button class="btn btn--primary mt-md" id="retry-btn">Try Again</button>
        </section>
      </div>
    </main>

    <footer class="footer">
      <div class="container footer__inner">
        <p>Built with the GitHub API</p>
        <p class="footer__rate-limit" id="rate-limit-display"></p>
      </div>
    </footer>

    <div class="modal-overlay" id="settings-modal">
      <div class="modal">
        <div class="modal__header">
          <h2 class="modal__title">Settings</h2>
          <button class="modal__close" id="settings-close">
            <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18M6 6l12 12"/></svg>
          </button>
        </div>
        <div class="modal__body">
          <div class="mb-md">
            <label class="filter-label mb-sm" for="github-token" style="display: block;">GitHub Personal Access Token (optional)</label>
            <input type="password" class="input" id="github-token" placeholder="ghp_xxxxxxxxxxxx">
            <p class="text-sm text-muted mt-sm">Adding a token increases rate limits from 10 to 30 requests/minute for search.</p>
          </div>
        </div>
        <div class="modal__footer">
          <button class="btn btn--secondary" id="clear-token">Clear Token</button>
          <button class="btn btn--primary" id="save-token">Save</button>
        </div>
      </div>
    </div>
  </div>

  <script type="module" src="/src/js/search.js"></script>
</body>
</html>
