import{i as m,a as u,t as h,M as E,f as y,u as L}from"./errorBoundary-Bh1k4IQJ.js";import{e as k}from"./api-Cg2usqAf.js";import{h as p,a as B,b as v,c as C,i as I,r as f,d as T}from"./RepoGrid-3wPeLURR.js";m();u();const c=document.getElementById("language-filter"),o=document.getElementById("repo-grid"),i=document.getElementById("results-section"),S=document.getElementById("results-count"),d=document.getElementById("loading-state"),l=document.getElementById("error-state"),b=document.getElementById("error-message"),g=document.getElementById("pagination"),w=document.getElementById("theme-toggle"),R=document.getElementById("retry-btn");let r=1,a=0;const s=e=>{switch(d.classList.add("hidden"),l.classList.add("hidden"),i.classList.add("hidden"),e){case"loading":d.classList.remove("hidden");break;case"error":l.classList.remove("hidden");break;case"results":i.classList.remove("hidden");break}},n=async(e=1)=>{r=e,s("loading");try{const t=await k({language:c.value,page:e});a=Math.min(t.data.total_count,E),S.innerHTML=`<strong>${y(a)}</strong> trending repositories this week`,f(o,t.data.items,{dateField:"created_at",datePrefix:"Created"}),T(g,r,a),s("results"),t.rateLimit&&L(t.rateLimit)}catch(t){b.textContent=t.message,s("error")}};c.addEventListener("change",()=>n(1));o.addEventListener("click",e=>{p(e),B(e)});o.addEventListener("keydown",v);g.addEventListener("click",e=>C(e,n));R?.addEventListener("click",()=>n(r));w.addEventListener("click",h);I();n();
